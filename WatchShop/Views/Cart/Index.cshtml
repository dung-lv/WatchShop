@model List<WatchShop.Models.CartItem>
@{
    ViewBag.Title = "Gio hang";
    Layout = "~/Views/Shared/_Layout_Client.cshtml";
}
<section class="xt-xt-single-product" style="margin-bottom:100px;">
    <div class="container">
        <div class="col-md-3 visible-xs visible-sm padding-right-o"></div>
        <div class="col-md-9 col-md-offset-3 padding-o">
            @if (Model.Count > 0)
            {
                <table class="table table-bordered" style="background-color: aliceblue;">
                    <thead>
                        <tr>
                            <td>Tên SP</td>
                            <td>Ảnh SP</td>
                            <td>Số lượng</td>
                            <td>Đơn giá</td>
                            <td>Thành tiền</td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.Product.Name</td>
                                <td><img src="/Assets/Client/images/@item.Product.Avatar" width="100" /></td>
                                <td><input type="text" class="cls_quantity" data-id="@item.Product.ID_Product" value="@item.Quantity"/></td>
                                <td>@item.Product.Price.GetValueOrDefault(0).ToString("N0")</td>
                                <td>@((item.Product.Price.GetValueOrDefault(0) * item.Quantity).ToString("N0"))</td>
                                <td><button data-id="@item.Product.ID_Product" class="btnDelete">Xoá</button></td>
                            </tr>
                        }

                    </tbody>
                </table>
                <div style="float:right;">
                    <button id="btnUpdate" class="btn btn-success">Cập nhật giỏ hàng</button>
                    <button id="btnPayment" class="btn btn-info" data-toggle="modal" data-target="#payModal">Thanh toán</button>
                </div>
            }
            else
            {
                <span class="alert alert-danger">Chưa có sản phẩm nào trong giỏ hàng</span>
            }          
        </div>
        @using (Html.BeginForm("Payment", "Cart", FormMethod.Post))
        {
            <div class="modal fade" id="payModal" role="dialog">
                <div class="modal-dialog">
                    <form id="form-product" action="" method="post">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">THÔNG TIN KHÁCH HÀNG</h4>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="name">Tên:</label>
                                    <input type="text" class="form-control" id="name" placeholder="Enter answer" name="name"><br />
                                </div>
                                <div class="form-group">
                                    <label for="email">Email:</label>
                                    <input type="email" class="form-control" id="email" placeholder="Enter answer" name="email"><br />
                                </div>
                                <div class="form-group">
                                    <label for="phone">Số điện thoại:</label>
                                    <input type="text" class="form-control" id="phone" placeholder="Enter answer" name="phone"><br />
                                </div>
                                <div class="form-group">
                                    <label for="address">Địa chỉ:</label>
                                    <input type="text" class="form-control" id="address" placeholder="Enter answer" name="address"><br />
                                </div>
                                <div class="form-group">
                                    <label for="transport">Hình thức giao hàng:</label>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio" value="@WatchShop.Common.ValConst.TRANSPORT_FAST" checked>Chuyển phát nhanh</label>
                                    </div>
                                    <div class="radio">
                                        <label><input type="radio" name="optradio" value="@WatchShop.Common.ValConst.TRANSPORT_NORMAL">Ship bình thường</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="note">Ghi chú:</label>
                                    <textarea class="form-control" rows="5" id="note" name="note"></textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-sm btn-purple">
                                    <i class="ace-icon fa fa-floppy-o bigger-125"></i>
                                    <span class="bigger-110">Thanh toán</span>
                                </button>
                                <button id="btn-reset" type="reset" class="width-35 pull-right btn btn-sm">
                                    <i class="ace-icon fa fa-refresh"></i>
                                    <span class="bigger-110">Reset</span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        }
    </div>
</section>

